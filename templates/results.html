{% extends "base.html" %}
{% block content %}
	<p class="desc">We're taking you <strong>from</strong> '{{ template_data.from_address }}' <strong>to</strong> '{{ template_data.to_address }}'</p>
	{% if template_data.directions_data == False %}
		<p>No Response - Error</p>
	{% else %}
		<p class="desc"><strong>Total Distance:</strong> {{ template_data.directions_data.total_distance/1000.00 }}km
		<strong>Journey Duration:</strong> {{ template_data.directions_data.total_duration }} seconds</p>
		<input style="display:none;" id="step_count" value="{{ template_data.step_count }}" />
		{% set count = 1 %}
		{% for step in template_data.directions_data.get_steps() %}

			{% if loop.first %} 
				<div class="result_step" id="step-{{ count }}">
			{% else %}
				<div class="result_step" id="step-{{ count }}" style="display:none;">
			{% endif %}
					<p class="desc">
						Distance {{ step.distance/1000.00 }}km, <strong>Duration</strong> {{ step.duration }} seconds - 
						{% autoescape false %}
							{{ step.html_instructions }}
						{% endautoescape %}
					</p>
				</div>
			{% set count = count + 1 %}
		{% else %}
			<p>No Steps - Error</p>
		{% endfor %}
		<div id="step_panel"><div class="blue_button" id="prev_step" style="display:none;">&laquo; Previous</div><div class="blue_button" id="next_step">Next &raquo;</div></div>
	{% endif %}
{% endblock %}
